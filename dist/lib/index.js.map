{"version":3,"sources":["index.js"],"names":[],"mappings":"aAAA,IAAI,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC1B,IAAI,UAAU,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AACnC,IAAI,WAAW,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC;;;AAGhD,SAAS,MAAM,CAAC,YAAY,EAAE,OAAO,EAAE;AACrC,MAAI,IAAI,GAAG,IAAI,UAAU,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;AACjD,MAAI,MAAM,GAAG,WAAW;AACtB,MAAI,EAAE,MAAM,EAAE,CAAC,MAAM,CAAC,CACvB,CAAC;;;AAEF,QAAM,CAAC,MAAM,GAAG,SAAS,CAAC;;AAE1B,SAAO,MAAM,CAAC,CACf;;;;AAGD,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC;AACxB,MAAM,CAAC,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;AACpD,MAAM,CAAC,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;AACpD,MAAM,CAAC,OAAO,CAAC,KAAK,GAAI,OAAO,CAAC,iBAAiB,CAAC,CAAC;;;;AAInD,SAAS,SAAS,CAAC,MAAM,EAAE;AACzB,MAAI,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;;AAEnC,GAAC,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,IAAI,EAAE,EAAE,UAAC,MAAM,EAAE,IAAI,EAAK;AAChD,UAAK,IAAI,CAAC,GAAG,MAAM,CAAC,CACrB,CAAC,CAAC;;;AAEH,GAAC,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,IAAI,EAAE,EAAE,UAAC,MAAM,EAAE,IAAI,EAAK;AACpD,UAAK,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,CACpC,CAAC,CAAC;;;AAEH,SAAO,IAAI,CAAC,CACb","file":"index.js","sourcesContent":["var _ = require('lodash');\nvar BaseUnison = require('./base');\nvar functionize = require('./util').functionize;\n\n// the base functionality\nfunction unison(initialState, options) {\n  let base = new BaseUnison(initialState, options);\n  let unison = functionize(\n    base, 'grab', ['grab']\n  );\n\n  unison.plugin = addPlugin;\n\n  return unison;\n}\n\n// bundle base and plugins together\nmodule.exports = unison;\nmodule.exports.server = require('./plugins/server');\nmodule.exports.client = require('./plugins/client');\nmodule.exports.views  = require('./plugins/views');\n\n// ===========================\n\nfunction addPlugin(plugin) {\n  var additions = plugin(this) || {};\n\n  _.each(additions.methods || {}, (method, name) => {\n    this[name] = method;\n  });\n\n  _.each(additions.nodeMethods || {}, (method, name) => {\n    this.base._nodeBase[name] = method;\n  });\n\n  return this;\n}\n"],"sourceRoot":"../../lib"}