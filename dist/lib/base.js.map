{"version":3,"sources":["base.js"],"names":[],"mappings":"uwBAAA,IAAI,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;;AAGL,MAAM;AACd,WADQ,MAAM,GACM,KAAnB,YAAY,yDAAG,EAAE,sCADV,MAAM;AAExB,QAAI,CAAC,KAAK,GAAG,YAAY,CAAC,CAC1B,aAHkB,MAAM;;;AAKrB,kBAAC,IAAI,EAAE;AACT,aAAO,IAAI,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA,CAClC;;;AAEM,qBAAC,IAAI,EAAE,KAAK,EAAE,EAEpB,YAXkB,MAAM,2BAAN,MAAM;;;;;AAcrB,UAAU;AACH,WADP,UAAU,CACF,MAAM,EAAE,IAAI,EAAE,uBADtB,UAAU;AAEZ,QAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AACrB,QAAI,CAAC,IAAI,GAAG,IAAI,CAAC,CAClB,aAJG,UAAU;;;AAMT,qBAAG;AACN,UAAI,IAAI,CAAC,IAAI,KAAK,EAAE,EAAE;AACpB,eAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAC1B;AAAM;AACL,eAAO,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAC5C,CACF;;;;AAEK,oBAAC,KAAK,EAAE;AACZ,UAAI,KAAK,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;AACzB,UAAI,KAAK,KAAK,SAAS,EAAE,OAAO;;AAEhC,OAAC,CAAC,MAAM,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;AACvB,UAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,CAC3C,YApBG,UAAU","file":"base.js","sourcesContent":["let _ = require('lodash');\n\n\nexport default class Unison {\n  constructor(initialState = {}) {\n   this.state = initialState;\n  }\n\n  grab(path) {\n    return new UnisonNode(this, path)\n  }\n\n  trigger(path, event) {\n    // nothing for now\n  }\n}\n\nclass UnisonNode {\n  constructor(unison, path) {\n    this.unison = unison;\n    this.path = path;\n  }\n\n  state() {\n    if (this.path === '') {\n      return this.unison.state;\n    } else {\n      return _.get(this.unison.state, this.path);\n    }\n  }\n\n  update(props) {\n    var state = this.state();\n    if (state === undefined) return;\n\n    _.extend(state, props);\n    this.unison.trigger(this.path, 'updated');\n  }\n}\n"],"sourceRoot":"../../lib"}