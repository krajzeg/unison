{"version":3,"sources":["events-test.js"],"names":[],"mappings":"aAAA,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC;AACpC,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;AAC7B,IAAI,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAE/B,QAAQ,CAAC,kBAAkB,EAAE,YAAM;AACjC,MAAI,EAAE,YAAA,CAAC;AACP,YAAU,CAAC,YAAM;AACf,MAAE,GAAG,MAAM,CAAC,KAAK,CAAC;AAChB,UAAI,EAAE,EAAC,IAAI,EAAE,OAAO,EAAC,EACtB,CAAC,CAAC,CACJ,CAAC,CAAC;;;;AAEH,IAAE,CAAC,4CAA4C,EAAE,YAAM;AACrD,QAAI,QAAQ,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;;AAE3B,MAAE,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;AACnC,MAAE,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,EAAC,QAAQ,EAAE,EAAE,EAAC,CAAC,CAAC;AAClC,MAAE,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,MAAM,EAAC,CAAC,CAAC;;AAErC,UAAM,CAAC,EAAE,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CACjC,CAAC,CAAC,CAGJ,CAAC,CAAC","file":"events-test.js","sourcesContent":["let assert = require('chai').assert;\r\nlet sinon = require('sinon');\r\nlet unison = require('../lib');\r\n\r\ndescribe(\"Update listeners\", () => {\r\n  let $$;\r\n  beforeEach(() => {\r\n    $$ = unison.local({\r\n      bird: {name: 'eagle'}\r\n    });\r\n  });\r\n\r\n  it(\"should be triggered once after each update\", () => {\r\n    let callback = sinon.spy();\r\n\r\n    $$('bird').on('updated', callback);\r\n    $$('bird').update({wingspan: 12});\r\n    $$('bird').update({soaring: 'high'});\r\n\r\n    assert.ok(callback.calledTwice);\r\n  });\r\n\r\n\r\n});"],"sourceRoot":"../../test"}