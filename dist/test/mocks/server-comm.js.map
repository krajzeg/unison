{"version":3,"sources":["mocks/server-comm.js"],"names":[],"mappings":"2wBAAqB,cAAc;AACtB,WADQ,cAAc,GACnB,uBADK,cAAc;AAE/B,QAAI,CAAC,OAAO,GAAG,EAAE,CAAC;AAClB,QAAI,CAAC,aAAa,GAAG,EAAE,CAAC;AACxB,QAAI,CAAC,SAAS,GAAG,EAAE,CAAC,CACrB,aALkB,cAAc;;;AAO3B,oBAAC,QAAQ,EAAE;AACf,UAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CACnC;;;AAEK,oBAAC,QAAQ,EAAE;AACf,UAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CACnC;;;AAEK,oBAAC,QAAQ,EAAE,SAAS,EAAE;AAC1B,UAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;AACpC,UAAI,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;AAC/B,UAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;AACpC,UAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAC5C;;;AAEa,4BAAC,QAAQ,EAAE;AACvB,aAAO,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAC3C;;;AAEiB,gCAAC,QAAQ,EAAE,OAAO,EAAE;AACpC,aAAO,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;AAC3C,YAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAA,EAAA,CAC/C,CAAC,CACH;;;;AAEgB,+BAAC,QAAQ,EAAE,OAAO,EAAE;AACnC,UAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;AACxC,UAAI,CAAC,SAAS,CAAC,SAAS,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC,CAC/C;;;AAEe,8BAAC,QAAQ,EAAE,SAAS,EAAE;AACpC,UAAI,CAAC,SAAS,CAAC,SAAS,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC,CAC/C;;;AAEO,sBAAC,QAAQ,EAAE,CAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,QAAQ,CAAC,CAAE;AAClD,sBAAC,QAAQ,EAAE,CAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,QAAQ,CAAC,CAAE;AACjD,uBAAC,QAAQ,EAAE,CAAE,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,QAAQ,CAAC,CAAE,YA3CzC,cAAc,2BAAd,cAAc","file":"mocks/server-comm.js","sourcesContent":["export default class ServerCommMock {\r\n  constructor() {\r\n    this.clients = [];\r\n    this.sentPerClient = {};\r\n    this.callbacks = {};\r\n  }\r\n\r\n  attach(clientId) {\r\n    this.callbacks.onAttach(clientId);\r\n  }\r\n\r\n  detach(clientId) {\r\n    this.callbacks.onDetach(clientId);\r\n  }\r\n\r\n  sendTo(clientId, msgString) {\r\n    let message = JSON.parse(msgString);\r\n    if (!this.sentPerClient[clientId])\r\n      this.sentPerClient[clientId] = [];\r\n    this.sentPerClient[clientId].push(message);\r\n  }\r\n\r\n  messagesSentTo(clientId) {\r\n    return this.sentPerClient[clientId] || [];\r\n  }\r\n\r\n  containsMessageFor(clientId, message) {\r\n    return this.sentPerClient[clientId].some((msg) =>\r\n      JSON.stringify(msg) == JSON.stringify(message)\r\n    );\r\n  }\r\n\r\n  pushClientMessage(clientId, message) {\r\n    let msgString = JSON.stringify(message);\r\n    this.callbacks.onReceive(clientId, msgString);\r\n  }\r\n\r\n  pushClientString(clientId, msgString) {\r\n    this.callbacks.onReceive(clientId, msgString);\r\n  }\r\n\r\n  onAttach(callback) { this.callbacks.onAttach = callback; }\r\n  onDetach(callback) { this.callbacks.onDetach = callback; }\r\n  onReceive(callback) { this.callbacks.onReceive = callback; }\r\n}\r\n"],"sourceRoot":"..\\..\\..\\test"}