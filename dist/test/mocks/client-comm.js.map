{"version":3,"sources":["mocks/client-comm.js"],"names":[],"mappings":"uwBAAA,IAAI,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAEL,cAAc;AACtB,WADQ,cAAc,GACnB,uBADK,cAAc;AAE/B,KAAC,CAAC,MAAM,CAAC,IAAI,EAAE;AACb,kBAAY,EAAE,EAAE;AAChB,wBAAkB,EAAE,EAAE,EACvB,CAAC,CAAC,CACJ,aANkB,cAAc;;;;AAQ7B,kBAAC,OAAO,EAAE;AACZ,UAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACtC,UAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAC7C;;;AAEQ,uBAAC,QAAQ,EAAE;AAClB,UAAI,CAAC,eAAe,GAAG,QAAQ,CAAC,CACjC;;;AAEgB,+BAAC,WAAW,EAAE,UAAU,EAAiB,mCAAZ,UAAU,mEAAV,UAAU;AACtD,UAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS;AAClC,OAAC,GAAG,EAAE,WAAW,EAAE,UAAU,EAAE,UAAU,CAAC,CAC3C,CAAC,CAAC,CACJ;;;;AAEiB,gCAAC,MAAM,EAAE,QAAQ,EAAE,eAAe,EAAE;AACpD,UAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS;AAClC,OAAC,GAAG,EAAE,MAAM,EAAE,QAAQ,EAAE,eAAe,CAAC,CACzC,CAAC,CAAC,CACJ;;;;AAEe,8BAAC,SAAS,EAAE;AAC1B,UAAI,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC,CACjC,YA/BkB,cAAc,2BAAd,cAAc","file":"mocks/client-comm.js","sourcesContent":["var _ = require('lodash');\n\nexport default class ClientCommMock {\n  constructor() {\n    _.extend(this, {\n      sentMessages: [],\n      sentMessageStrings: []\n    });\n  }\n\n  send(message) {\n    this.sentMessageStrings.push(message);\n    this.sentMessages.push(JSON.parse(message));\n  }\n\n  onReceive(callback) {\n    this.receiveCallback = callback;\n  }\n\n  pushServerCommand(commandName, objectPath, ...parameters) {\n    this.pushServerString(JSON.stringify(\n      ['c', commandName, objectPath, parameters]\n    ));\n  }\n\n  pushServerResponse(status, intentId, resultOrMessage) {\n    this.pushServerString(JSON.stringify(\n      ['r', status, intentId, resultOrMessage]\n    ));\n  }\n\n  pushServerString(msgString) {\n    this.receiveCallback(msgString);\n  }\n}\n"],"sourceRoot":"../../../test"}