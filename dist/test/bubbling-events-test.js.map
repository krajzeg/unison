{"version":3,"sources":["bubbling-events-test.js"],"names":[],"mappings":"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","file":"bubbling-events-test.js","sourcesContent":["let assert = require('chai').assert;\nlet sinon = require('sinon');\nlet unison = require('../lib');\n\ndescribe(\"X.Y.* (single star) wildcard listeners\", () => {\n  let u;\n  beforeEach(() => {\n    u = unison({\n      bird: {wings: {left: {}, right: {}}}\n    });\n  });\n\n  it(\"should be triggered when a child of X.Y has an event\", () => {\n    let childUpdated = sinon.spy();\n    u.listen('bird.*', 'updated', childUpdated);\n\n    u('bird.wings').update({beating: true});\n\n    assert.ok(childUpdated.calledOnce);\n  });\n\n  it(\"should not trigger for further descendants of X.Y\", () => {\n    let childUpdated = sinon.spy();\n    u.listen('bird.*', 'updated', childUpdated);\n\n    u('bird.wings.left').update({clipped: true});\n\n    assert.ok(!childUpdated.called);\n  });\n\n  it(\"should work correctly for the root object\", () => {\n    let childUpdated = sinon.spy();\n    u.listen('*', 'updated', childUpdated);\n\n    u('bird').update({soaring: true});\n\n    assert.ok(childUpdated.called);\n  });\n});\n\ndescribe(\"X.Y.** (double star) wildcard listeners\", () => {\n  let u;\n  beforeEach(() => {\n    u = unison({\n      bird: {wings: {left: {}, right: {}}}\n    });\n  });\n\n  it(\"should be triggered when a child of X.Y has an event\", () => {\n    let childUpdated = sinon.spy();\n    u.listen('bird.**', 'updated', childUpdated);\n\n    u('bird.wings').update({beating: true});\n\n    assert.ok(childUpdated.calledOnce);\n  });\n\n  it(\"should trigger for further descendants of X.Y\", () => {\n    let descendantUpdated = sinon.spy();\n    u.listen('bird.**', 'updated', descendantUpdated);\n\n    u('bird.wings.left').update({clipped: true});\n    u('bird.wings.right').update({clipped: true});\n\n    assert.ok(descendantUpdated.calledTwice);\n  });\n\n  it(\"should trigger when X.Y itself has an event\", () => {\n    let updated = sinon.spy();\n    u.listen('bird.**', 'updated', updated);\n\n    u('bird').update({clipped: true});\n\n    assert.ok(updated.calledOnce);\n  });\n\n  it(\"should work correctly for the root object\", () => {\n    let childUpdated = sinon.spy();\n    u.listen('**', 'updated', childUpdated);\n\n    u('bird.wings.left').update({length: 30});\n\n    assert.ok(childUpdated.called);\n  });\n});\n\n"],"sourceRoot":"../../test"}