{"version":3,"sources":["bubbling-events-test.js"],"names":[],"mappings":"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","file":"bubbling-events-test.js","sourcesContent":["let assert = require('chai').assert;\nlet sinon = require('sinon');\nlet unison = require('../lib');\n\ndescribe(\"X.Y.* (single star) wildcard listeners\", () => {\n  let u;\n  beforeEach(() => {\n    u = unison({\n      bird: {wings: {left: {}, right: {}}}\n    });\n  });\n\n  it(\"should be triggered when a child of X.Y has an event\", () => {\n    let listenSpy = sinon.spy(), onChildSpy = sinon.spy();\n    u.listen('bird.*', 'updated', listenSpy);\n    u('bird').onChild('updated', onChildSpy);\n\n    u('bird.wings').update({beating: true});\n\n    assert.ok(listenSpy.calledOnce);\n    assert.ok(onChildSpy.calledOnce);\n  });\n\n  it(\"should not trigger for further descendants of X.Y\", () => {\n    let listenSpy = sinon.spy(), onChildSpy = sinon.spy();\n    u.listen('bird.*', 'updated', listenSpy);\n    u('bird').onChild('updated', onChildSpy);\n\n    u('bird.wings.left').update({clipped: true});\n\n    assert.ok(!listenSpy.called);\n    assert.ok(!onChildSpy.called);\n  });\n\n  it(\"should work correctly for the root object\", () => {\n    let listenSpy = sinon.spy(), onChildSpy = sinon.spy();\n    u.listen('*', 'updated', listenSpy);\n    u('').onChild('updated', onChildSpy);\n\n    u('bird').update({soaring: true});\n\n    assert.ok(listenSpy.called);\n  });\n});\n\ndescribe(\"X.Y.** (double star) wildcard listeners\", () => {\n  let u;\n  beforeEach(() => {\n    u = unison({\n      bird: {wings: {left: {}, right: {}}}\n    });\n  });\n\n  it(\"should be triggered when a child of X.Y has an event\", () => {\n    let listenSpy = sinon.spy(), onAnySpy = sinon.spy();\n    u.listen('bird.**', 'updated', listenSpy);\n    u('bird').onAny('updated', onAnySpy);\n\n    u('bird.wings').update({beating: true});\n\n    assert.ok(listenSpy.calledOnce);\n    assert.ok(onAnySpy.calledOnce);\n  });\n\n  it(\"should trigger for further descendants of X.Y\", () => {\n    let listenSpy = sinon.spy(), onAnySpy = sinon.spy();\n    u.listen('bird.**', 'updated', listenSpy);\n    u('bird').onAny('updated', onAnySpy);\n\n    u('bird.wings.left').update({clipped: true});\n    u('bird.wings.right').update({clipped: true});\n\n    assert.ok(listenSpy.calledTwice);\n    assert.ok(onAnySpy.calledTwice);\n  });\n\n  it(\"should trigger when X.Y itself has an event\", () => {\n    let listenSpy = sinon.spy(), onAnySpy = sinon.spy();\n    u.listen('bird.**', 'updated', listenSpy);\n    u('bird').onAny('updated', onAnySpy);\n\n    u('bird').update({clipped: true});\n\n    assert.ok(listenSpy.calledOnce);\n    assert.ok(onAnySpy.calledOnce);\n  });\n\n  it(\"should work correctly for the root object\", () => {\n    let listenSpy = sinon.spy(), onAnySpy = sinon.spy();\n    u.listen('**', 'updated', listenSpy);\n    u('').onAny('updated', onAnySpy);\n\n    u('bird.wings.left').update({length: 30});\n\n    assert.ok(listenSpy.called);\n    assert.ok(onAnySpy.called);\n  });\n});\n\n"],"sourceRoot":"../../test"}